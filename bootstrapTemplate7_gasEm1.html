<!DOCTYPE html>
<html lang="en">
<head>
  <title>Emerging Trends</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  
  <link rel="stylesheet" href=" https://cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/css/jasny-bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/js/jasny-bootstrap.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.js"></script>
  <script src="script/d3/d3.v3.5.17.js"></script>
  <script src="script/d3/sankey.js"></script>
  
  
</head>

<style>
<style>
body
{
	background: green; 
	/* light gray: c2cbce  light green: fbfef3 green-gray: d1d6c2 dde1d2 light green: d1ed70 */
	min-height: 0px;
	margin-top: 0px; 
	margin-bottom: 0px;
	font-family: Avenir, Gill-Sans, Arial, Helvetica, sans-serif;
	font-size: 16px;
}
p
{
	font-family: Avenir, Gill-Sans, Arial, Helvetica, sans-serif;
	font-size: 14px;
}
.navbar {
    margin-bottom: 0 !important; 
	/* Overrides white space under navbar */
}
#wrapperOutside
{
	background: #ebf0e4; 
	/* f2ffe6  c1dee3 ddebdd edf5ee ebf0e4 */	
}
#wrapperInside
{
	margin:0 auto;
	background: #fafdff; 
	/* light gray CCC e7e7e7 dadada fff5f7 faffff eaf5f4 edf7fa fafdff f5f6ff */
	width:1200px;
	height: 100%;
	padding: 0px;
	position: relative;
	overflow: hidden;
}
#title 
{
	font-size: 44px;
	position: absolute;
	left: 80px;
	top: 50px;
	font-style: bold;	
	text-shadow: 0 1.0px 0 #fff;
}
#subtitle 
{
	font-size: 30px;
	position: absolute;
	left: 160px;
	top: 120px;
	color: #cb0000; /* darker red: C70039  brighter red: ea4b01 */
	text-shadow: 0 1.6px 0.4px black;
	font-style: italic;	
}
.row 
{
	margin: 30px;
	padding-top: 10px; 
	background-color: none;
}

#pubDate
{	
	font-family: Courier, Avenir, Gill-Sans, Arial, Helvetica, sans-serif;
	font-size: 14px;
}
#author
{
	font-style: italic;
	font-size: 16px;
	color: #1437c7; /* #38638f brighter blue: 164791 0334a6 1437c7 */
}
#bodyText
{
	margin-top: 10px;
}

/* BEGIN: OF STYLE FOR: Block Quote */
@import url(https://fonts.googleapis.com/css?family=PT+Sans|Ubuntu:300,400,700);

.containerQuote {
  background: #e6ecfa; /* light gray-green: fbfef3 d1d6c2 #f4fad7 mint green: aee3a1 bce0b8 daebd3 ccf0d0 #b0ffd5 aef5d6 b1f5de b8f2e4 c2f2ec e6ecfa */
  width: 100%;
  max-width: 480px;
  min-width: 320px;
  margin: 1em auto 0;
  padding: 1.5em;
}
p { margin-bottom: 1.5em; }
p:last-child { margin-bottom: 0; }
blockquote {
  display: block;
  border-width: 2px 0; /* 2px 0 */
  border-style: solid;
  border-color: #1437c7; /* eee 1437c7 */
  padding: 1.0em 0 1.0em;
  margin: 0.7em 0;
  position: relative;
}
blockquote:before {
  content: '\201C';
  position: absolute; 
  top: -0.22em;
  left: -0.48em; /* left: 0%; */
  transform: translate(-50%, -50%);
  background: #fafdff; /* #fff #f4fad7 */
  width: 3rem;
  height: 2rem;
  font: 6em/1.08em 'PT Sans', sans-serif;
  color: #e6ecfa; /* #666 same green as background: ccf0d0  mint green: 88f5a5 b7f7cf b0ffd5  b1f5de  b8f2e4 e6ecfa */
  text-align: center;
}
blockquote:after {
  content: '\201D'; /* "\2013 \2003" attr(cite) */
  position: absolute;
  bottom: -0.02em;
  right: -0.77em; /* left: 0%; */
  transform: translate(-50%, -50%);
  background: #fafdff; /* #fff #f4fad7 */
  width: 3rem;
  height: 2rem;
  font: 6em/1.08em 'PT Sans', sans-serif;
  color: #e6ecfa;
  text-align: center;
}
/* END: OF STYLE FOR: Block Quote */

#mySidebar
{
	padding-top: 14px;
	background-color: #f2f6fa; /* medium gray d8e1e6 f7f7f7 f2f6fa  */
	height: 82rem;
}

.myButton
{
	color: blue;
}

/* MODAL */
.modal.in .modal-dialog {
    width: 80vw !important;
}
.modal-content {
    height: 80vh !important;
}

h1{
    color: #0099FF;
}
tr{
    background-color: #fafdff;

}
td, th {
    background-color: gray;
	font-size: 14px;
	padding: 6px;
}
table{
    color: #FFFFFF;

}

#tab_navigationBar
{
	background-color: lavender;
	height: 40px;
	width: 100%;
}
.tab_navBar
{
	float: left;
	padding: 10px;
	border: solid 1px #060606;
	cursor: pointer;
}
.tab_navBar: hover
{
	background-color: green;
	color: white;
}
.tab_navBar.selected 
{
	background-color: purple;
}

</style>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Schraml Designs</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="http://trangdoanlam.com" target="_blank">Home</a></li>
      <li><a href="http://trangdoanlam.com/data-binding" target="_blank">Data Binding</a></li>
      <li><a href="http://trangdoanlam.com/maps" target="_blank">Maps</a></li>      
	  <li class="active"><a href="gasEmission1.html">Emerging Landscape</a></li>
	  
    </ul>
	
	<ul class="nav navbar-nav navbar-right">
      <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
      <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
	
    <form class="navbar-form navbar-right" action="/action_page.php">
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Search" name="search">
      </div>
      <button type="submit" class="btn btn-default">Submit</button>
    </form>
  </div>
</nav>

<div id="wrapperOutside">
	<div id="wrapperInside">	
		<div class="row"><!-- BEGINNING OF: Both Columns -->
		<h2>Connecting the Dots: Population Density and Gas Emissions</h2>		
		<p>In an attempt to trace the connections between population and gas emissions (specifically from the Industrial Sector), let's focus on one region with known data such as Europe. Based on data from the EU, the map shows gas emissions by country, showing the geospatial reference between gas emissions and countries that are considered "industrial" or first world countries.</p>
		
		<div id="tab_navigationBar">	
		</div>
		
		<div class="col-sm-3" style="background-color:lavender;"><!-- BEGINNING OF: First Column of 1/3 // style="background-color:lavender;" -->
		
			<div id="table"></div>
			<div id="myDataText"></div>
		
		</div>
		
		<div class="col-sm-9" style="background-color:yellow;"><!-- BEGINNING OF: Second Column of 2/3 // style="background-color:lavender;" -->
			
			<p>Map Showing Population</p>
		
		</div>
		
		
		</div>	
		
	</div>					<!-- END OF: wrapperInside, for everything under the navigation bar -->
</div>						<!-- END OF: wrapperOutside, for everything under the navigation bar -->

<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
<script type="text/javascript">
    //Load in contents of CSV file, and do things to the data.
    d3.csv("water_improvement_data.csv", function(error, myData) {
        if (error) {
            console.log("Had an error loading file.");
        }
			
		// ----------------------------------------------------
		// NOTE TO TRANG: THIS SECTION IS FOR TEXT
		var myYears = ["2015", "1990"];

		d3.select("#tab_navigationBar").selectAll(".tab_navBar")
			.data(myYears)
			.enter()
			.append("div")
			.attr("class", "tab_navBar")
			.text( function(d) { 
				return d;
			})
			.classed("selected", false)
			.on("click", function(d) {
				d3.selectAll(".tab_navBar").classed("selected", false);
				d3.select(this).classed("selected", true)
				myTextByYear(d);
			});
		
		function myTextByYear(year) {
		
			d3.selectAll(".myTextByYear")
				.remove();
			
			 myData.forEach(function(d, i){
				d3.select("#myDataText")
					.append("div")
					.attr("class", "myTextByYear")
					.text( function(){
						console.log("year" + year, d.year1990)
						return d.name + " - " + d["year" + year] 
					})
			})	
		};	
		// ---------------------------------------------------
		
        // We'll be using simpler data as values, not objects.
        var myArray = [];
        myData.forEach(function(d, i){
            // now we add another data object value, a calculated value.
            // here we are making strings into numbers using type coercion
            d.year1990 = +d.year1990;
            d.year2015 = +d.year2015;
            // d.difference = d.year2015 - d.year1990;
            if (d.name === "Developing regions") {
                d.name = "Developing Regions";
            }
            if (d.name === "Developed regions") {
                d.name = "Deveoloped Regions";
            }
            // Add a new array with the values of each:
            myArray.push([d.name, d.year1990, d.year2015]);
        });
        console.log(myData);
        console.log(myArray);
        //sort data by difference
        myArray.sort(function (a, b) {
            return a[3]-b[3];
        });
        // You could also have made the new array with a map function!
        //using colors and fonts from the UNICEF Style Guide
        var table = d3.select("#table").append("table");
        var header = table.append("thead").append("tr");
        header
                .selectAll("th")
                .data(["Region", "1990", "2015"]) //
                .enter()
                .append("th")
                .text(function(d) { return d; });
        var tablebody = table.append("tbody");
        rows = tablebody
                .selectAll("tr")
                .data(myArray)
                .enter()
                .append("tr");
        // We built the rows using the nested array - now each row has its own array.
        cells = rows.selectAll("td")
            // each row has data associated; we get it and enter it for the cells.
                .data(function(d) {
                    console.log(d);
                    return d;
                })
                .enter()
                .append("td")
                .text(function(d) {
                    return d;
                });
    });
</script>

</body>
</html>

